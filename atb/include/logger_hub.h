#pragma once

// -----------------------------------------------------------------------------
// std
// -----------------------------------------------------------------------------
#include <vector>

// -----------------------------------------------------------------------------
// Logging.
// -----------------------------------------------------------------------------
#include "spdlog/spdlog.h"

namespace atb {

    // -------------------------------------------------------------------------
    // Central logger hub.
    // Switch for all log lines.
    // -------------------------------------------------------------------------
    class logger_hub {

    private:

        std::shared_ptr<spdlog::logger> console;

    public:
        logger_hub();

        // ---------------------------------------------------------------------
        // Debug callback.
        // ---------------------------------------------------------------------
        void debug(const char* const message) noexcept;

        // ---------------------------------------------------------------------
        // Info callback.
        // ---------------------------------------------------------------------
        void info(const char* const message) noexcept;

        // ---------------------------------------------------------------------
        // Warning callback.
        // ---------------------------------------------------------------------
        void warn(const char* const message) noexcept;

        // ---------------------------------------------------------------------
        // Error callback.
        // ---------------------------------------------------------------------
        void error(const char* const message) noexcept;

        // ---------------------------------------------------------------------
        // Fatal callback.
        // ---------------------------------------------------------------------
        void fatal(const char* const message) noexcept;

        // ---------------------------------------------------------------------
        // Reserves log line.
        // ---------------------------------------------------------------------
        char* malloc_empty_log_line() noexcept;

        // ---------------------------------------------------------------------
        // Returns log line.
        // ---------------------------------------------------------------------
        void free_log_line(char* line) noexcept;
    };
}